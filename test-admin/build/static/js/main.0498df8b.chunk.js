(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{358:function(e,t,a){e.exports=a(694)},363:function(e,t,a){},694:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(27),o=a.n(c),i=(a(363),a(702)),l=a(701),u=a(100),s=a(224),m=a(179),d=a(699),E=a(39),f=function(e,t,a){var n=d.a.fetchJson,r=function(e,t,a){switch(console.log(e,t,a),e){case m.d:return{url:"".concat("/api","/").concat(t)};case m.g:return{url:"".concat("/api","/").concat(t,"/").concat(a.id)};case m.e:var n={filter:JSON.stringify({id:a.ids})};return{url:"".concat("/api","/").concat(t,"?").concat(Object(E.stringify)(n))};case m.f:var r=a.pagination,c=r.page,o=r.perPage,i=a.sort,l=i.field,d=i.order,f={sort:JSON.stringify([l,d]),range:JSON.stringify([(c-1)*o,c*o-1]),filter:JSON.stringify(Object(s.a)({},a.filter,Object(u.a)({},a.target,a.id)))};return{url:"".concat("/api","/").concat(t,"?").concat(Object(E.stringify)(f))};case m.h:return{url:"".concat("/api","/").concat(t,"/").concat(a.id),options:{method:"PUT",body:JSON.stringify(a.data)}};case m.a:return{url:"".concat("/api","/").concat(t),options:{method:"POST",body:JSON.stringify(a.data)}};case m.b:return{url:"".concat("/api","/").concat(t,"/").concat(a.id),options:{method:"DELETE"}};default:throw new Error("Unsupported fetch action type ".concat(e))}}(e,t,a);return n(r.url,r.options).then(function(t){return function(e,t,a,n){var r=e.headers,c=e.json;switch(console.log(c,r),t){case m.d:return{data:c.map(function(e){return e}),total:1};case m.a:return{data:Object(s.a)({},n.data,{id:c.id})};default:return{data:c}}}(t,e,0,a)})},p=a(229),g=function(e,t){if(e===p.a)return localStorage.getItem("token")?Promise.resolve():Promise.reject();if(e===p.d){var a=t.username,n=t.password,r=new Request("".concat("/api","/login"),{method:"POST",body:JSON.stringify({username:a,password:n}),headers:new Headers({"Content-Type":"application/json"})});return fetch(r).then(function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()}).then(function(e){var t=e.token;localStorage.setItem("token",t)})}return e===p.e?(localStorage.removeItem("token"),Promise.resolve()):void 0},h=a(703),w=a(706),b=a(709),v=a(707),y=a(704),O=a(705),S=a(710),j=function(e){var t=e.record;return r.a.createElement("span",null,"Post ",t?'"'.concat(t.number,'"'):"")},P=function(e){return r.a.createElement(h.a,e,r.a.createElement(w.a,{rowClick:"edit"},r.a.createElement(b.a,{source:"number"}),r.a.createElement(b.a,{source:"url"}),r.a.createElement(b.a,{source:"description"})))},k=function(e){return r.a.createElement(v.a,Object.assign({title:r.a.createElement(j,null)},e),r.a.createElement(y.a,null,r.a.createElement(O.a,{source:"number"}),r.a.createElement(O.a,{source:"url"}),r.a.createElement(O.a,{source:"description",options:{multiline:!0}})))},J=function(e){return r.a.createElement(S.a,e,r.a.createElement(y.a,null,r.a.createElement(O.a,{source:"number"}),r.a.createElement(O.a,{source:"url"}),r.a.createElement(O.a,{source:"description",options:{multiline:!0}})))},N=function(e){var t=e.record;return r.a.createElement("span",null,"Post ",t?'"'.concat(t.number,'"'):"")},T=function(e){return r.a.createElement(h.a,e,r.a.createElement(w.a,{rowClick:"edit"},r.a.createElement(b.a,{source:"number"}),r.a.createElement(b.a,{source:"url"}),r.a.createElement(b.a,{source:"title"}),r.a.createElement(b.a,{source:"description"}),r.a.createElement(b.a,{source:"createdAt"})))},I=function(e){return r.a.createElement(v.a,Object.assign({title:r.a.createElement(N,null)},e),r.a.createElement(y.a,null,r.a.createElement(O.a,{source:"number"}),r.a.createElement(O.a,{source:"url"}),r.a.createElement(O.a,{source:"title"}),r.a.createElement(O.a,{source:"description",options:{multiline:!0}})))},C=function(e){return r.a.createElement(S.a,e,r.a.createElement(y.a,null,r.a.createElement(O.a,{source:"number"}),r.a.createElement(O.a,{source:"url"}),r.a.createElement(O.a,{source:"title"}),r.a.createElement(O.a,{source:"description",options:{multiline:!0}})))},x=function(){return r.a.createElement(i.a,{dataProvider:f,authProvider:g},r.a.createElement(l.a,{name:"videos",list:P,create:J,edit:k}),r.a.createElement(l.a,{name:"posts",list:T,create:C,edit:I}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[358,2,1]]]);
//# sourceMappingURL=main.0498df8b.chunk.js.map